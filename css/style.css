/* =====================================================
   1. VARIABLES Y CONFIGURACIÓN GLOBAL
   ===================================================== */

/* BLOQUE :ROOT: Define las variables globales del sitio.
   Relación: Estas variables afectan a TODAS las etiquetas del HTML.
   Si cambias un color aquí, se actualizará automáticamente en todas las tarjetas y botones.
*/
:root {
    /* Paleta de Colores: Afecta a botones, iconos de categoría y bordes destacados */
    --primary: #6366f1;       /* Color principal (Índigo). Modifica botones 'Guía' y tabs activas. */
    --primary-dark: #4f46e5;  /* Versión oscura para efectos de hover en botones. */
    --secondary: #0ea5e9;     /* Color secundario (Azul). Modifica el degradado del título h1. */
    --accent: #8b5cf6;        /* Color de acento (Violeta). Usado para detalles visuales. */
    
    /* Colores de Texto: Modifica la legibilidad de todo el contenido en index.html */
    --text-main: #1e293b;     /* Color de párrafos y títulos principales. */
    --text-muted: #64748b;    /* Color para descripciones secundarias y etiquetas. */
    --text-light: #f8fafc;    /* Color para texto sobre fondos oscuros (como dentro de botones). */

    /* Fondos: Modifica las capas base de la interfaz */
    --bg-body: #f3f4f6;       /* Fondo general de la página (detrás de las tarjetas). */
    --bg-card: rgba(255, 255, 255, 0.9); /* Fondo de las tarjetas. Permite el efecto de cristal. */
    --bg-header: rgba(255, 255, 255, 0.1); /* Fondo del encabezado superior. */

    /* Sombras y Bordes: Crean la profundidad y el efecto 'Glassmorphism' */
    --shadow-sm: 0 2px 4px rgba(0,0,0,0.05);   /* Sombra suave para inputs. */
    --shadow-md: 0 8px 20px rgba(0,0,0,0.08);  /* Sombra media para tarjetas. */
    --shadow-lg: 0 20px 30px rgba(0,0,0,0.12); /* Sombra intensa para el modal de tutorial. */
    --border-glass: 1px solid rgba(255, 255, 255, 0.5); /* Borde blanco sutil para efecto cristal. */

    /* Tipografía: Define las fuentes cargadas desde Google Fonts en el <head> del HTML */
    --font-heading: 'Poppins', sans-serif; /* Aplicada a títulos h1, h2 y h3. */
    --font-body: 'Inter', sans-serif;      /* Aplicada a todo el texto de lectura. */
    --font-code: 'Fira Code', monospace;   /* Aplicada a comandos <code> y scripts .bat. */

    /* Radios: Define qué tan redondeadas se ven las esquinas */
    --radius-md: 16px; /* Redondeo de cuadros de pasos internos. */
    --radius-lg: 24px; /* Redondeo de las tarjetas y el modal principal. */
}

/* BLOQUE MODO OSCURO: Sobrescribe las variables cuando la clase 'dark-mode' está activa.
   Relación: javascript.js activa esta clase mediante la función toggleDarkMode().
   Modifica: Todos los colores de fondo y texto para que la página sea oscura.
*/
body.dark-mode {
    --text-main: #f1f5f9;      /* Texto claro para fondo oscuro. */
    --text-muted: #94a3b8;     /* Texto grisáceo sutil. */
    --bg-body: #0f172a;        /* Fondo azul noche profundo. */
    --bg-card: rgba(30, 41, 59, 0.85); /* Tarjetas azul oscuro semitransparente. */
    --bg-header: rgba(0, 0, 0, 0.3);   /* Header negro tenue. */
    --border-glass: 1px solid rgba(255, 255, 255, 0.1); /* Borde más oscuro. */
    --shadow-md: 0 8px 20px rgba(0,0,0,0.3); /* Sombras más marcadas. */
}

/* CONFIGURACIÓN BASE (*): Reinicia los márgenes por defecto del navegador.
   Relación: Afecta a cada una de las etiquetas del index.html.
   Asegura que el diseño se vea igual en Chrome, Edge o Firefox.
*/
* {
    margin: 0;           /* Elimina espacios externos automáticos. */
    padding: 0;          /* Elimina espacios internos automáticos. */
    box-sizing: border-box; /* Asegura que el padding no estire el tamaño de los elementos. */
}

/* ETIQUETA BODY: Estilo del contenedor principal.
   Relación: Es la etiqueta maestra <body> de tu HTML.
   Modifica: La fuente base, el color de fondo y la fluidez de las transiciones.
*/
body {
    font-family: var(--font-body);       /* Aplica la fuente Inter a todo el sitio. */
    background-color: var(--bg-body);    /* Aplica el color de fondo definido arriba. */
    color: var(--text-main);             /* Aplica el color de texto principal. */
    transition: background-color 0.3s ease, color 0.3s ease; /* Suaviza el cambio a Modo Oscuro. */
    min-height: 100vh;                   /* Asegura que el fondo cubra todo el alto de la pantalla. */
    position: relative;                  /* Permite posicionar las formas decorativas detrás. */
    overflow-x: hidden;                  /* Evita que aparezca una barra de scroll horizontal. */
}

/* CLASE .BACKGROUND-SHAPES: Crea el efecto visual de fondo.
   Relación: No está en el index.html actual, pero puede agregarse como un div vacío al inicio.
   Modifica: Añade manchas de color (gradientes) fijas detrás de las tarjetas.
*/
.background-shapes {
    position: fixed;     /* Se queda quieto aunque el usuario haga scroll. */
    top: 0; left: 0; width: 100%; height: 100%;
    z-index: -1;         /* Lo envía al fondo de todo, detrás de las tarjetas. */
    background: 
        radial-gradient(circle at 10% 20%, rgba(99, 102, 241, 0.1) 0%, transparent 40%), /* Mancha índigo arriba. */
        radial-gradient(circle at 90% 80%, rgba(14, 165, 233, 0.1) 0%, transparent 40%); /* Mancha azul abajo. */
    pointer-events: none; /* Ignora clics para que no interfiera con los botones de la web. */
}

/* ENCABEZADOS (H1, H2, H3): Estilo global para títulos.
   Relación: Afecta a títulos del Header (h1), del Modal (h2) y de las Tarjetas (h3).
*/
h1, h2, h3 {
    font-family: var(--font-heading); /* Aplica la fuente Poppins. */
    font-weight: 700;                 /* Aplica negrita intensa. */
}

/* OPTIMIZACIÓN VISUAL PARA MODO OSCURO
   Relación: Estas reglas se activan solo cuando el JavaScript añade la clase 'dark-mode'.
   Modifica: La apariencia de las imágenes y las tarjetas para mejorar la comodidad visual.
*/

/* Filtro para imágenes: Evita el deslumbramiento en entornos oscuros */
body.dark-mode .tarjeta-img-contenedor img {
    /* Reduce el brillo al 80% y aumenta ligeramente el contraste para que la imagen no "brille" de más */
    filter: brightness(0.8) contrast(1.1); 
    /* Suaviza la transición del filtro cuando cambias de modo claro a oscuro */
    transition: filter 0.3s ease;
}

/* Ajuste de tarjetas: Mejora el contraste sobre el fondo azul noche */
body.dark-mode .tarjeta {
    /* Hace que el fondo de la tarjeta sea más sólido (95% opacidad) para que el texto resalte mejor */
    background: rgba(30, 41, 59, 0.95); 
}

/* =====================================================
   FONDO DINÁMICO: REJILLA (DÍA) / MATRIX (NOCHE)
   ===================================================== */

/* 1. ESTILO BASE PARA EL CANVAS MATRIX: 
   Mantiene la estructura técnica para que el JavaScript pueda dibujar en el fondo.
*/
#matrix-bg {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    z-index: -1;          /* Se mantiene detrás de todo el contenido */
    pointer-events: none; /* No interfiere con los clics */
}

/* 1. CONFIGURACIÓN MODO DÍA: Imagen de fondo profesional */
body:not(.dark-mode) {
    /* Degradado sutil (0.85 de opacidad) para que las tarjetas blancas resalten */
    background: 
        linear-gradient(rgb(248, 250, 252), rgb(248, 250, 252)), 
        url('../img/fondos/header-bg1.jpg'); 
    
    background-size: cover;
    background-position: center;
    background-attachment: fixed; /* Mantiene la imagen estática al hacer scroll */
    background-color: #f8fafc;    /* Color de respaldo por seguridad */
}

/* Apagamos el efecto Matrix en el día para que no ensucie la imagen */
body:not(.dark-mode) #matrix-bg {
    display: none; 
}

/* 2. CONFIGURACIÓN MODO NOCHE: Se activa con la clase .dark-mode */
body.dark-mode #matrix-bg {
    display: block;  /* El canvas se vuelve visible para mostrar la animación */
    opacity: 0.15;   /* Nivel de transparencia sutil que ya tenías configurado */
}

/* =====================================================
   2. HEADER, BUSCADOR Y NAVEGACIÓN (INTEGRADO)
   ===================================================== */

/* ETIQUETA HEADER: Contenedor principal de la parte superior del sitio.
   Relación: Afecta a la etiqueta <header> en index.html.
   Modifica: El área donde se encuentran el título, subtítulo y buscador.
*/

header {
    /* 1. IMAGEN (NOCHE)+ DEGRADADO PROTECTOR (NUEVO)
       Relación: El linear-gradient crea una capa oscura para que el texto blanco sea legible 
       sobre cualquier imagen. El url() busca tu archivo en la carpeta img.
    */
    background: 
        linear-gradient(135deg, rgba(15, 23, 42, 0.9), rgba(15, 23, 42, 0.7)), 
        url('../img/Fondos/header-bg2.jpg'); 
    
    background-size: cover;           /* Asegura que la imagen no se estire feo */
    background-position: center;      /* Centra la imagen siempre */
    background-attachment: fixed;     /* Efecto de profundidad al hacer scroll */

    /* 2. TU EFECTO DE CRISTAL ORIGINAL (MANTENIDO) */
    backdrop-filter: blur(15px);      
    -webkit-backdrop-filter: blur(15px); 
    border-bottom: var(--border-glass); 

    /* 3. ESTRUCTURA (AJUSTADA) */
    padding: 4rem 1.5rem;             /* Un poco más de espacio para lucir la imagen */
    text-align: center;
    position: relative;
    overflow: hidden;
}

header h1 {
    font-size: 3rem;                  /* Aumento de tamaño para impacto visual */
    margin-bottom: 0.5rem;

    /* 4. TU DEGRADADO DE TEXTO ORIGINAL (MANTENIDO) */
    background: linear-gradient(135deg, var(--primary), var(--secondary)); 
    -webkit-background-clip: text;    
    -webkit-text-fill-color: transparent; 
    background-clip: text;            

    /* 5. SOMBRA DE TEXTO (NUEVO)
       Añade una sombra sutil para que las letras "floten" sobre el fondo técnico.
    */
    text-shadow: 0 4px 15px rgba(0,0,0,0.3); 
}

/* La imagen del header se vuelve más tenue en modo claro para no cansar la vista */
/* CONFIGURACIÓN DEL HEADER PARA MODO DÍA */
body:not(.dark-mode) header {
    /* Capa de luz (blanca con transparencia) para que el título y buscador resalten */
    background: 
        linear-gradient(rgb(255, 255, 255), rgb(255, 255, 255)), 
        url('../img/Fondos/header-bg3.jpg'); 
    
    background-size: cover;
    background-position: center;
    background-attachment: fixed;     /* Efecto de profundidad al hacer scroll */
    /* Mantenemos el efecto de cristal para darle profundidad */
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
}

/* Ajuste del texto para que no se pierda en el fondo claro */
body:not(.dark-mode) header p {
    color: #475569; /* Un gris más oscuro para el subtítulo */
    font-weight: 500;
}


/* PÁRRAFO P: Subtítulo descriptivo debajo del título h1.
   Relación: Modifica el <p> dentro del header en index.html.
*/
header p {
    color: var(--text-muted);         /* Color gris suave definido en las variables globales. */
    font-size: 1.1rem;                /* Tamaño de letra ligeramente mayor al estándar. */
    margin-bottom: 2rem;              /* Espacio de separación antes de llegar al buscador. */
}

/* CONTENEDOR BUSCADOR: Caja que agrupa el icono de lupa y el cuadro de texto.
   Relación: Afecta al <div class="search-container"> en index.html.
*/
.search-container { 
    position: relative;               /* Permite que el icono 'i' se posicione encima del input. */
    max-width: 550px;                 /* Limita el ancho máximo para que no se vea muy largo en PC. */
    margin: 0 auto 2.5rem;            /* Centra el contenedor horizontalmente y da espacio abajo. */
}

/* INPUT DE BÚSQUEDA: Cuadro de texto donde el usuario escribe.
   Relación: Modifica el <input id="inputBusqueda">. JavaScript escucha este campo.
*/
.search-container input {
    width: 100%;                      /* Ocupa todo el ancho de su contenedor (550px). */
    padding: 16px 20px 16px 55px;     /* Mucho espacio a la izquierda (55px) para no tapar el icono. */
    border-radius: 50px;              /* Forma de píldora totalmente redondeada. */
    border: 2px solid transparent;    /* Borde invisible que cambia de color al hacer clic (focus). */
    background: var(--bg-card);       /* Fondo blanco/oscuro semitransparente. */
    box-shadow: var(--shadow-sm);     /* Sombra muy sutil para dar volumen. */
    font-size: 1rem;                  /* Tamaño de letra de lectura cómoda. */
    font-family: var(--font-body);    /* Aplica la fuente Inter. */
    color: var(--text-main);          /* Color de la letra que escribe el usuario. */
    transition: all 0.3s ease;        /* Suaviza cambios de color y sombras. */
}

/* INPUT :FOCUS: Estado del buscador cuando el usuario hace clic para escribir.
*/
.search-container input:focus {
    outline: none;                    /* Elimina el borde azul por defecto del navegador. */
    border-color: var(--primary);     /* Resalta el borde con el color índigo principal. */
    box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.2); /* Crea un 'anillo' de luz alrededor del input. */
}

/* ICONO DE LUPA: Icono visual de búsqueda.
   Relación: Modifica la etiqueta <i> dentro de search-container.
*/
.search-container i {
    position: absolute;               /* Se posiciona de forma libre dentro del contenedor. */
    left: 22px;                       /* Distancia desde el borde izquierdo del input. */
    top: 50%;                         /* Lo baja a la mitad del contenedor. */
    transform: translateY(-50%);      /* Lo centra exactamente de forma vertical. */
    color: var(--primary);            /* Color del icono (índigo). */
    font-size: 1.2rem;                /* Tamaño visual del icono. */
}

/* CONTENEDOR TABS: Barra de botones de categoría (CMD, Atajos, etc).
   Relación: Modifica el <nav id="tabs-categorias"> en index.html.
*/
#tabs-categorias {
    display: flex;                    /* Alinea todos los botones en una sola fila. */
    justify-content: flex-start;      /* Los botones empiezan desde la izquierda. */
    overflow-x: auto;                 /* Si hay muchas categorías, permite deslizar de lado en móviles. */
    padding-bottom: 10px;             /* Espacio inferior para que no choque con el scrollbar. */
    white-space: nowrap;              /* Impide que los botones se bajen a la siguiente línea. */
    scrollbar-width: thin;            /* Hace la barra de scroll más delgada en navegadores compatibles. */
}

/* CLASE .TAB: Estilo base de los botones de categoría.
   Relación: Afecta a cada <button class="tab">. JavaScript les añade/quita la clase 'active'.
*/
.tab {
    background: transparent;          /* Fondo invisible por defecto. */
    color: var(--text-muted);         /* Color de texto gris suave. */
    border: 2px solid transparent;    /* Reserva espacio para un borde sin mostrarlo. */
    padding: 10px 20px;               /* Espacio interno para que el botón sea fácil de tocar. */
    border-radius: 30px;              /* Bordes redondeados tipo píldora. */
    cursor: pointer;                  /* Cambia el puntero a 'mano' al pasar el mouse. */
    font-weight: 600;                 /* Texto en seminegrita. */
    font-family: var(--font-body);    /* Fuente Inter. */
    transition: all 0.3s ease;        /* Suaviza el cambio de color al pasar el mouse. */
    display: flex;                    /* Permite alinear icono + texto internamente. */
    align-items: center;              /* Centra verticalmente el icono con el texto. */
    gap: 8px;                         /* Separa el icono del texto por 8px. */
    /* AÑADE ESTA LÍNEA: Suaviza el cambio de fondo, sombra y movimiento */
    transition: background-color 0.4s ease, box-shadow 0.4s ease, transform 0.2s ease, color 0.3s ease;
}

/* .TAB:HOVER: Efecto visual cuando el usuario pasa el mouse sobre una categoría.
*/
.tab:hover {
    background: rgba(99, 102, 241, 0.1); /* Fondo índigo muy suave al 10%. */
    color: var(--primary);            /* Cambia el texto a color índigo principal. */
}

/* .TAB.ACTIVE: Estilo de la categoría actualmente seleccionada.
   Relación: JavaScript gestiona esta clase en la función filtrarPorCategoria().
*/
.tab.active {
    background: var(--primary); /* Este es el respaldo por defecto */
    color: white;
    box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
}

/* 2. Definimos colores específicos para cada pestaña cuando está ACTIVA */
.tab.active.cmd { background: #000000; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4); }
.tab.active.atajos { background: #f39c12; box-shadow: 0 4px 12px rgba(243, 156, 18, 0.4); }
.tab.active.basicos { background: #7f19c4; box-shadow: 0 4px 12px rgba(127, 25, 196, 0.4); }
.tab.active.programas { background: #045da1; box-shadow: 0 4px 12px rgba(4, 93, 161, 0.4); }
.tab.active.aplicaciones { background: #db9717; box-shadow: 0 4px 12px rgba(219, 151, 23, 0.4); }
.tab.active.onlinea { background: #2ecc71; box-shadow: 0 4px 12px rgba(46, 204, 113, 0.4); }
.tab.active.windows { background: #54d8f0; box-shadow: 0 4px 12px rgba(84, 216, 240, 0.4); color: #1e293b; }
.tab.active.tutoriales { background: #17acd1; box-shadow: 0 4px 12px rgba(23, 172, 209, 0.4); }
.tab.active.programacion { background: #023aa0; box-shadow: 0 4px 12px rgba(2, 58, 160, 0.4); }
.tab.active.excel { background: #0b5f2e; box-shadow: 0 4px 12px rgba(11, 95, 46, 0.4); }
.tab.active.utilidades { background: #ec4899; box-shadow: 0 4px 12px rgba(236, 72, 153, 0.4); }

/* CONTENEDOR HERRAMIENTAS GLOBALES: Grupo que contiene el botón de modo oscuro.
   Relación: Afecta al <div class="global-tools"> en index.html.
*/
.global-tools {
    margin-top: 20px;                 /* Separa las herramientas de las pestañas superiores. */
    display: flex;                    /* Alinea botones de herramientas en fila. */
    justify-content: center;          /* Centra los botones horizontalmente en el header. */
    gap: 15px;                        /* Espacio de separación entre cada herramienta. */
}

/* BOTONES DE HERRAMIENTAS: Estilo de los círculos como el de Modo Oscuro.
   Relación: Afecta a los <button> dentro de .global-tools.
*/
.global-tools button {
    background: white;                /* Fondo blanco sólido. */
    border: none;                     /* Elimina bordes por defecto. */
    width: 45px;                      /* Ancho del círculo. */
    height: 45px;                     /* Alto del círculo (igual al ancho para que sea perfecto). */
    border-radius: 50%;               /* Convierte el cuadrado en un círculo. */
    cursor: pointer;                  /* Puntero de mano. */
    box-shadow: 0 4px 10px rgba(0,0,0,0.2); /* Sombra para dar efecto de flotado. */
    transition: 0.3s;                 /* Suaviza la animación de escala. */
}

/* HOVER HERRAMIENTAS: Efecto al pasar el mouse.
*/
.global-tools button:hover {
    transform: scale(1.1);            /* Aumenta el tamaño un 10% sutilmente. */
}

/* CLASE .TOOL-BTN: Variante alternativa para botones de herramientas.
   Relación: Puede aplicarse a botones que necesiten efecto de cristal (glass).
*/
.tool-btn {
    background: var(--bg-card);       /* Fondo semitransparente. */
    border: var(--border-glass);      /* Borde de cristal sutil. */
    width: 50px; height: 50px;        /* Tamaño ligeramente mayor. */
    border-radius: 50%;               /* Círculo perfecto. */
    cursor: pointer;                  /* Puntero de mano. */
    font-size: 1.2rem;                /* Tamaño del icono interno. */
    color: var(--text-main);          /* Color de icono según el tema actual. */
    box-shadow: var(--shadow-sm);     /* Sombra ligera. */
    transition: 0.3s;                 /* Suaviza rotación y escala. */
    margin-top: 20px;                 /* Espacio superior. */
}

/* HOVER .TOOL-BTN: Efecto animado agresivo.
*/
.tool-btn:hover {
    transform: rotate(15deg) scale(1.1); /* Rota el botón 15 grados y aumenta tamaño. */
    background: var(--primary);       /* Cambia el fondo a índigo. */
    color: white;                     /* Cambia el icono a blanco. */
}

/* =====================================================
   3. REJILLA DE TARJETAS (Grid principal)
   ===================================================== */

/* CONTENEDOR DE LA REJILLA: Define la distribución de los elementos.
   Relación HTML: Afecta a <section id="lista-recursos"> dentro de <main>.
   Relación JS: Es el contenedor donde la función mostrarNotas() inserta el HTML de las tarjetas.
*/
.grid-container, #lista-recursos {
    display: grid;                    /* Activa el sistema de rejilla para organizar las tarjetas. */
    /* Crea columnas automáticas que se ajustan al tamaño de pantalla (mínimo 320px). */
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); 
    gap: 25px;                        /* Espacio de separación de 25px entre tarjetas. */
    max-width: 1200px;                /* Limita el ancho total de la rejilla en pantallas grandes. */
    margin: 40px auto;                /* Da margen arriba/abajo y centra la rejilla horizontalmente. */
    padding: 0 20px;                  /* Evita que las tarjetas toquen los bordes del navegador en móviles. */
}

/* TARJETA INDIVIDUAL (.tarjeta): Estilo de cada cuadro de información.
   Relación JS: La función mostrarNotas() crea un 'div' con esta clase para cada recurso.
*/
.tarjeta {
    background: var(--bg-card);       /* Aplica el fondo semitransparente (Glassmorphism). */
    backdrop-filter: blur(10px);      /* Efecto de cristal esmerilado que desenfoca el fondo. */
    border: var(--border-glass);      /* Borde fino y sutil definido en las variables globales. */
    border-radius: var(--radius-lg);  /* Esquinas muy redondeadas (24px). */
    padding: 25px;                    /* Espacio interno para que el contenido no toque los bordes. */
    box-shadow: var(--shadow-sm);     /* Sombra ligera inicial para dar profundidad. */
    /* Define la velocidad y suavidad de las animaciones de movimiento y sombra. */
    transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1); 
    display: flex;                    /* Permite organizar el contenido interno en una columna. */
    flex-direction: column;           /* Alinea título, comando y descripción verticalmente. */
    position: relative;               /* Permite posicionar elementos internos de forma absoluta si es necesario. */
    overflow: hidden;                 /* Asegura que los efectos internos no se salgan de la tarjeta. */
}

/* EFECTO HOVER (.tarjeta:hover): Respuesta visual cuando el usuario pasa el mouse.
*/
.tarjeta:hover {
    transform: translateY(-8px);      /* Eleva la tarjeta 8px hacia arriba para simular interacción. */
    /* Cambia la sombra por un resplandor color índigo para resaltar la tarjeta seleccionada. */
    box-shadow: 0 10px 30px -5px rgba(99, 102, 241, 0.4); 
    border-color: var(--primary);     /* Cambia el color del borde al color principal (Índigo). */
}

/* Contenedor de la imagen que ignora el padding de la tarjeta para llegar a los bordes */
.tarjeta-img-contenedor {
    width: calc(100% + 50px); /* Compensa el padding de 25px de la tarjeta */
    margin: -25px -25px 20px -25px; /* Sube la imagen hasta el borde superior */
    height: 160px;
    overflow: hidden;
    border-bottom: 2px solid var(--primary); /* Línea divisoria elegante */
}

.tarjeta-img-contenedor img {
    width: 100%;
    height: 100%;
    object-fit: cover; /* Asegura que la imagen llene el espacio sin deformarse */
    transition: transform 0.5s cubic-bezier(0.25, 0.8, 0.25, 1); /* Animación suave */
}

/* Efecto de zoom en la imagen al resaltar la tarjeta */
.tarjeta:hover .tarjeta-img-contenedor img {
    transform: scale(1.1);
}

/* CABECERA DE LA TARJETA: Contenedor para la etiqueta de categoría y el título.
   Relación HTML/JS: Se genera dentro del template string en javascript.js.
*/
.comando-header {
    display: flex;                    /* Alinea etiqueta y título en una fila (si se usa). */
    justify-content: space-between;   /* Separa los elementos a los extremos. */
    align-items: flex-start;          /* Alinea los elementos al inicio superior. */
    margin-bottom: 15px;              /* Espacio antes de mostrar el comando técnico. */
}

/* TÍTULO H3: Nombre del comando o tutorial.
*/
.tarjeta h3 {
    font-size: 1.3rem;                /* Tamaño de letra destacado. */
    margin: 0;                        /* Elimina márgenes automáticos para control exacto. */
    color: var(--text-main);          /* Color de texto principal según el tema activo. */
}

/* DESCRIPCIÓN P: Texto explicativo de la tarjeta.
*/
.tarjeta p {
    color: var(--text-muted);         /* Color gris suave para diferenciarlo del título. */
    line-height: 1.6;                 /* Da más espacio entre líneas para facilitar la lectura. */
    flex-grow: 1;                     /* IMPORTANTE: Empuja los botones de acción siempre al fondo de la tarjeta. */
}

/* TEXTO EN NEGRITA DENTRO DE P: Resaltado especial.
*/
.tarjeta p strong {
    color: var(--text-main);          /* Usa el color más oscuro para que resalte sobre el gris suave. */
    font-weight: 900;                 /* Aplica un grosor máximo de letra. */
}

/* PANEL DE CONTROLES: Fila de botones "Copiar" y "Guía".
   Relación HTML/JS: Contenedor inferior generado dinámicamente en javascript.js.
*/
.panel-controles {
    display: flex;                    /* Alinea los botones uno al lado del otro. */
    gap: 12px;                        /* Espacio de 12px entre los botones. */
    margin-top: auto;                 /* Asegura que los botones se queden siempre al final de la tarjeta. */
    padding-top: 15px;                /* Separación visual con el texto de arriba. */
}

/* ESTILO BASE DE BOTONES (.btn-accion): Reglas comunes para todos los botones de la tarjeta.
*/
.btn-accion {
    flex: 1;                          /* Hace que ambos botones tengan exactamente el mismo ancho. */
    padding: 12px;                    /* Altura cómoda para hacer clic. */
    border-radius: 12px;              /* Bordes redondeados consistentes. */
    border: none;                     /* Elimina el borde estándar del sistema. */
    cursor: pointer;                  /* Muestra el puntero de mano. */
    font-weight: 600;                 /* Texto en seminegrita. */
    font-family: var(--font-body);    /* Fuente Inter. */
    transition: all 0.2s ease;        /* Suaviza el efecto de hover. */
    display: flex;                    /* Permite centrar icono y texto. */
    align-items: center;              /* Centrado vertical. */
    justify-content: center;          /* Centrado horizontal. */
    gap: 8px;                         /* Espacio entre el icono (FontAwesome) y el texto. */
}

/* BOTÓN COPIAR (.btn-copiar): Estilo discreto para la acción de copiado.
*/
.btn-copiar {
    background: var(--bg-body);       /* Fondo neutro (gris claro en modo claro). */
    color: var(--text-main);          /* Color de texto según tema. */
    border: 1px solid rgba(0,0,0,0.1); /* Borde muy tenue para definir la forma. */
}

/* BOTÓN COPIAR (MODO OSCURO): Ajuste de visibilidad.
*/
body.dark-mode .btn-copiar { 
    border-color: rgba(255,255,255,0.1); /* Cambia el borde a uno claro sutil en tema oscuro. */
}

/* HOVER BOTÓN COPIAR: Efecto de iluminación.
*/
.btn-copiar:hover { background: #e2e8f0; }
body.dark-mode .btn-copiar:hover { background: #334155; }

/* BOTÓN TUTORIAL (.btn-tutorial): Estilo destacado para la acción principal.
*/
.btn-tutorial {
    /* Crea un degradado vibrante del color índigo. */
    background: linear-gradient(135deg, var(--primary), var(--primary-dark)); 
    color: white;                     /* Texto blanco para lectura sobre el color fuerte. */
    box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3); /* Sombra con el color principal. */
}

/* HOVER GENERAL DE ACCIONES: Animación de levantamiento.
*/
.btn-accion:hover {
    box-shadow: 0 6px 15px rgba(99, 102, 241, 0.4); /* Intensifica el resplandor. */
    transform: translateY(-2px);      /* Eleva el botón ligeramente al pasar el mouse. */
}

/* SECCIÓN DE ENLACES: Lista de links externos opcionales.
   Relación HTML/JS: Se genera si el objeto del recurso tiene la propiedad 'links'.
*/
.links-seccion {
    display: flex;                    /* Alinea los enlaces en una fila. */
    flex-wrap: wrap;                  /* Si hay muchos links, saltan automáticamente abajo. */
    gap: 15px;                        /* Espacio entre cada enlace individual. */
    margin-top: 15px;                 /* Separa los links de la descripción superior. */
    margin-bottom: 10px;              /* Espacio antes de los botones finales. */
}

/* ITEM DE ENLACE (.link-item): Estilo de cada link (ej. Video Tutorial).
*/
.link-item {
    text-decoration: none;            /* Quita el subrayado estándar de los links. */
    color: var(--primary);            /* Color índigo para indicar que es clickeable. */
    font-weight: 600;                 /* Texto destacado. */
    font-size: 0.9rem;                /* Tamaño de letra ligeramente menor. */
    display: flex;                    /* Alinea icono y texto. */
    align-items: center;              /* Centrado vertical. */
    gap: 5px;                         /* Espacio entre icono y texto. */
    padding: 5px 10px;                /* Pequeña caja de fondo. */
    background: rgba(99, 102, 241, 0.05); /* Fondo muy suave casi invisible. */
    border-radius: 8px;               /* Esquinas redondeadas suaves. */
    transition: 0.3s;                 /* Suaviza el cambio al pasar el mouse. */
}

/* HOVER ITEM ENLACE:
*/
.link-item:hover {
    background: rgba(99, 102, 241, 0.15); /* Oscurece un poco el fondo al interactuar. */
    transform: translateY(-2px);      /* Pequeña elevación. */
}

/* MENSAJE SIN RESULTADOS (.no-results): Aviso cuando el buscador no encuentra coincidencias.
   Relación JS: El buscador inyecta este párrafo si el filtro devuelve cero resultados.
*/
.no-results {
    grid-column: 1 / -1;              /* Ocupa TODO el ancho de la rejilla (de lado a lado). */
    text-align: center;               /* Centra el texto. */
    padding: 40px;                    /* Da aire alrededor del mensaje. */
    color: var(--text-muted);         /* Color gris suave. */
    font-size: 1.2rem;                /* Tamaño de letra legible. */
    font-style: italic;               /* Letra cursiva para indicar estado vacío. */
}



/* =====================================================
   4. ETIQUETAS DE COLOR POR CATEGORÍA
   ===================================================== */

/* CLASE BASE .ETIQUETA: Define la forma y el texto de la insignia.
   Relación HTML: Afecta a los elementos <span> con clase 'etiqueta' dentro de las tarjetas.
   Relación JS: La función mostrarNotas() inserta este span con el nombre de la categoría.
*/
.etiqueta {
    font-size: 0.75rem;           /* Tamaño de letra pequeño para no opacar el título h3. */
    font-weight: bold;            /* Texto en negrita para resaltar la categoría. */
    text-transform: uppercase;    /* Convierte el texto automáticamente a MAYÚSCULAS. */
    padding: 4px 10px;            /* Espacio interno arriba/abajo (4px) y lados (10px). */
    border-radius: 4px;           /* Bordes ligeramente redondeados para un aspecto moderno. */
    display: inline-block;        /* Permite que la etiqueta solo ocupe el ancho de su texto. */
    margin-bottom: 10px;          /* Espacio de separación con el título h3 de la tarjeta. */
}

/* VARIANTES DE COLOR POR CATEGORÍA:
   Relación JS: El código usa la propiedad 'nota.categoria' como una clase secundaria.
   Ejemplo: class="etiqueta cmd" aplicará el fondo negro.
*/

/* Categoría CMD: Fondo negro sólido. Relacionado con comandos de terminal. */
.etiqueta.cmd { background-color: #000000; color: white; }

/* Categoría ATAJOS: Color naranja. Relacionado con combinaciones de teclas Win+R. */
.etiqueta.atajos { background-color: #f39c12; color: white;}

/* Categoría BÁSICOS: Color violeta/púrpura. Relacionado con navegadores e instaladores iniciales. */
.etiqueta.basicos { background-color: #7f19c4; color: white; }

/* Categoría PROGRAMAS: Color azul fuerte. Relacionado con sitios de descarga de software. */
.etiqueta.programas { background-color: #045da1; color: white; }

/* Categoría APLICACIONES: Color ocre/marrón. Relacionado con herramientas específicas de diagnóstico. */
.etiqueta.aplicaciones { background-color: #db9717; color: white; }

/* Categoría ONLINEA: Color verde esmeralda. Relacionado con herramientas web sin instalación. */
.etiqueta.onlinea { background-color: #2ecc71; color: white; }

/* Categoría WINDOWS: Color azul cielo. Relacionado con utilidades propias del sistema. */
.etiqueta.windows { background-color: #54d8f0; color: white; }

/* Categoría TUTORIALES: Color azul cian. Relacionado con guías paso a paso complejas. */
.etiqueta.tutoriales { background-color: #17acd1; color: white; }

/* Categoría PROGRAMACION: Color azul oscuro profundo. Relacionado con IDEs y lenguajes. */
.etiqueta.programacion { background-color: #023aa0; color: white; }

/* Categoría EXCEL: Color verde oscuro. Relacionado con trucos de hojas de cálculo. */
.etiqueta.excel { background-color: #0b5f2e; color: white; }

/* Categoría UTILIDADES: Color fucsia/rosa. Relacionado con trucos varios de productividad. */
.etiqueta.utilidades { background-color: #ec4899; color: white; }
/* =====================================================
   5. MODAL (Ventana Emergente)
   ===================================================== */

/* CLASE .MODAL: Contenedor maestro de la ventana emergente.
   Relación HTML: Afecta a <div id="modal-tutorial" class="modal hidden">.
   Relación JS: Se muestra/oculta manipulando la clase 'hidden' en abrirTutorial().
   Modifica: Crea un contenedor invisible que abarca toda la pantalla.
*/
.modal {
    position: fixed;              /* Se queda fijo en la pantalla, ignorando el scroll de fondo. */
    top: 0; left: 0;              /* Se ancla a la esquina superior izquierda. */
    width: 100%; height: 100%;    /* Estira el contenedor para cubrir el 100% del monitor. */
    display: flex;                /* Activa el sistema flexible para centrar el contenido. */
    justify-content: center;      /* Centra horizontalmente la caja del tutorial. */
    align-items: center;          /* Centra verticalmente la caja del tutorial. */
    z-index: 1000;                /* Se asegura de estar por ENCIMA de las tarjetas y el header. */
    padding: 20px;                /* Margen de seguridad para que la caja no toque los bordes en móviles. */
}

/* CLASE .MODAL-BLUR-OVERLAY: Capa de oscurecimiento y desenfoque.
   Relación HTML: Afecta a <div class="modal-blur-overlay">.
   Relación JS: Al hacer clic aquí, se ejecuta cerrarTutorial().
   Modifica: Oscurece el fondo de la web para resaltar la ventana de texto.
*/
.modal-blur-overlay {
    position: absolute;           /* Se posiciona dentro del contenedor .modal. */
    top: 0; left: 0; width: 100%; height: 100%; /* Cubre toda el área del modal. */
    background: rgba(0, 0, 0, 0.5); /* Color negro al 50% de transparencia. */
    backdrop-filter: blur(8px);   /* Crea el efecto de desenfoque en las tarjetas que están detrás. */
}

/* CLASE .MODAL-CONTENIDO: La caja blanca (o azul oscuro) donde se lee el tutorial.
   Relación HTML: Afecta a <div class="modal-contenido animate-pop-in">.
   Relación JS: Aquí es donde se inyecta el 'contenidoPrincipal' generado en abrirTutorial().
   Modifica: El tamaño, fondo y comportamiento de lectura del tutorial.
*/
.modal-contenido {
    background: var(--bg-card);       /* Aplica el color de fondo según el tema (claro/oscuro). */
    backdrop-filter: blur(20px);      /* Refuerza el efecto cristal dentro de la misma caja. */
    width: 100%;                      /* Ocupa el ancho disponible. */
    max-width: 800px;                 /* Limita el ancho en PC para que no sea difícil de leer. */
    max-height: 90vh;                 /* Evita que la caja sea más alta que la pantalla del usuario. */
    overflow-y: auto;                 /* Si el tutorial es muy largo, crea una barra de scroll interna. */
    padding: 40px;                    /* Espacio interno para que el texto respire. */
    border-radius: var(--radius-lg);  /* Esquinas redondeadas (24px) consistentes con las tarjetas. */
    position: relative;               /* Permite posicionar el botón 'X' de cierre de forma absoluta. */
    box-shadow: var(--shadow-lg);     /* Sombra intensa para dar sensación de que la caja "vuela" sobre la web. */
    border: var(--border-glass);      /* Borde fino transparente para el efecto de cristal. */
    z-index: 1001;                    /* Un nivel arriba del overlay para que sea el elemento más frontal. */
}

/* CLASE .CERRAR-MODAL: El botón con icono de 'X'.
   Relación HTML: Afecta a <button class="cerrar-modal">.
   Relación JS: Al hacer clic, ejecuta la función cerrarTutorial().
   Modifica: Ubicación y estilo del control de cierre.
*/
.cerrar-modal {
    position: absolute;               /* Se ubica libremente dentro de la caja de contenido. */
    top: 20px; right: 20px;           /* Se ancla a la esquina superior derecha. */
    width: 40px; height: 40px;        /* Tamaño del círculo del botón. */
    background: var(--bg-body);       /* Fondo gris claro/oscuro según el tema. */
    color: var(--text-muted);         /* Color de la 'X' (gris suave). */
    border: none;                     /* Elimina el borde de botón estándar. */
    border-radius: 50%;               /* Convierte el botón en un círculo perfecto. */
    font-size: 1.2rem;                /* Tamaño del icono de la cruz. */
    cursor: pointer;                  /* Puntero de mano al pasar el mouse. */
    transition: 0.3s;                 /* Suaviza los cambios de color y rotación. */
    display: flex;                    /* Alineación interna del icono. */
    align-items: center;              /* Centra la 'X' verticalmente. */
    justify-content: center;          /* Centra la 'X' horizontalmente. */
}

/* ESTADO :HOVER DE CERRAR-MODAL: Respuesta visual al intentar cerrar.
*/
.cerrar-modal:hover {
    background: #1123c5;              /* Cambia el fondo a un azul intenso. */
    color: white;                     /* Cambia la cruz a color blanco. */
    transform: rotate(90deg);         /* Hace que la 'X' gire un cuarto de vuelta al tocarla. */
}

/* --- CONFIGURACIÓN MODO LECTURA --- */

/* Cuando el modo lectura está activo, expandimos la caja y aumentamos la fuente */
.modal.modo-lectura .modal-contenido {
    max-width: 1000px;               /* Aumenta el ancho para una lectura más cómoda */
    padding: 60px;                  /* Más aire en los bordes */
}

/* Enfocamos el texto del tutorial */
.modal.modo-lectura .tutorial-contenido-pro {
    font-size: 1.15rem;             /* Texto un poco más grande */
    line-height: 1.8;               /* Más espacio entre líneas */
    max-width: 800px;               /* Centramos el texto para que la vista no se canse */
    margin: 0 auto;
}

/* Cambiamos el color del botón para indicar que está activo */
.modal.modo-lectura .btn-lectura {
    background: var(--accent);       /* Usamos el color violeta de tus variables */
    color: white;
}

/* =====================================================
   6. DISEÑO Y CONTENIDO DEL TUTORIAL
   ===================================================== */

/* CLASE .TUTORIAL-HEADER: Encabezado interno del modal que contiene el título y el botón PDF.
   Relación HTML/JS: Se genera dinámicamente en abrirTutorial() dentro de javascript.js.
   Modifica: La alineación y separación de la parte superior de la guía.
*/
.tutorial-header {
    display: flex;                /* Alinea el título y el botón de PDF en una misma fila horizontal. */
    justify-content: space-between; /* Separa el título a la izquierda y el botón a la derecha. */
    align-items: center;          /* Centra verticalmente ambos elementos. */
    padding-right: 60px;          /* Espacio a la derecha para evitar que el contenido choque con el botón cerrar 'X'. */
    border-bottom: 2px solid var(--primary); /* Línea decorativa inferior de color índigo. */
    padding-bottom: 15px;         /* Espacio entre el texto y la línea decorativa. */
    margin-bottom: 20px;          /* Separación con el resto del contenido del tutorial. */
}

/* TÍTULO H2 DEL HEADER: Nombre del tutorial dentro del modal.
*/
.tutorial-header h2 {
    font-size: 2rem;              /* Tamaño de letra grande para identificar claramente el tema. */
    color: var(--primary);        /* Aplica el color principal (índigo). */
}

/* CLASE .BTN-PDF: Botón verde para imprimir la guía.
   Relación HTML/JS: Creado en javascript.js; al hacer clic ejecuta window.print().
   Modifica: El estilo visual del botón de exportación.
*/
.btn-pdf {
    background: #27ae60;          /* Color de fondo verde (estilo corporativo para PDF/Hojas de cálculo). */
    color: white;                 /* Letra blanca para contraste. */
    border: none;                 /* Elimina bordes estándar. */
    padding: 6px 12px;            /* Tamaño compacto del botón. */
    border-radius: 6px;           /* Bordes redondeados sutiles. */
    font-size: 0.8rem;            /* Letra pequeña pero legible. */
    cursor: pointer;              /* Muestra el puntero de mano. */
    display: flex;                /* Permite alinear el icono de PDF y el texto. */
    align-items: center;          /* Centra verticalmente icono y texto. */
    gap: 5px;                     /* Separa el icono del texto por 5px. */
    white-space: nowrap;          /* Evita que el texto del botón se baje de línea en pantallas pequeñas. */
}

/* CLASE .TUTORIAL-CATEGORIA: Etiqueta de texto debajo del título en el modal.
   Relación JS: Muestra la categoría (CMD, ATAJOS, etc.) dentro del tutorial abierto.
*/
.tutorial-categoria {
    display: flex;                /* Alineación horizontal de icono y texto. */
    align-items: center;          /* Centrado vertical. */
    gap: 10px;                    /* Espacio entre el nombre de la etiqueta y otros elementos. */
    margin-top: 10px;             /* Separación con el encabezado. */
    font-weight: 500;             /* Grosor de letra medio. */
}

/* RESALTADO STRONG: Acentúa el texto de la categoría.
*/
.tutorial-categoria strong { color: var(--primary); }

/* CLASE .TUTORIAL-CONTENIDO-PRO H3: Subtítulos dentro de la guía detallada.
   Relación JS: Afecta a las etiquetas <h3> dentro de la propiedad 'contenidoTutorialHtml'.
*/
.tutorial-contenido-pro h3 {
    margin: 15px 0 10px;          /* Espacio arriba (15px) y abajo (10px). */
    font-size: 1.4rem;            /* Tamaño de subtítulo jerarquizado. */
    color: var(--text-main);      /* Color de texto principal. */
}

/* CLASE .TUTORIAL-CONTENIDO-PRO P: Estilo de los párrafos de lectura del tutorial.
*/
.tutorial-contenido-pro p {
    margin-bottom: 10px;          /* Separación entre párrafos. */
    line-height: 1.6;             /* Altura de línea para facilitar el seguimiento de la lectura. */
}

/* LISTAS PERSONALIZADAS (UL): Limpieza de viñetas estándar.
*/
.tutorial-contenido-pro ul {
    list-style: none;             /* ELIMINA EL PUNTO NEGRO por defecto del navegador. */
    padding-left: 5px;            /* Alineación izquierda ajustada. */
}

/* ELEMENTOS DE LISTA (LI): Estructura para la viñeta personalizada.
*/
.tutorial-contenido-pro ul li {
    margin-bottom: 8px;           /* Espacio entre elementos de la lista. */
    padding-left: 15px;           /* Espacio reservado para poner el icono personalizado. */
    position: relative;           /* Permite que el pseudoelemento ::before se posicione respecto a este li. */
}

/* VIÑETA PERSONALIZADA (::BEFORE): Icono de punto estilizado.
*/
.tutorial-contenido-pro ul li::before {
    content: "•";                 /* Carácter de punto grueso. */
    color: var(--primary);        /* Color índigo para que combine con el diseño. */
    position: absolute;           /* Se ubica libremente a la izquierda del texto. */
    left: 0;                      /* Alineado al borde del padding. */
    font-weight: bold;            /* Mayor grosor visual para el punto. */
}

/* CLASE .TUTORIAL-PASOS: Cuadros de fondo que resaltan pasos específicos o bloques de código.
   Relación JS: Se usa constantemente dentro de las notas en javascript.js.
   Modifica: El contenedor principal de los ejemplos prácticos.
*/
.tutorial-pasos {
    background: rgba(99, 102, 241, 0.06); /* Fondo índigo casi transparente (6% de opacidad). */
    border-left: 5px solid var(--primary); /* BARRA AZUL LATERAL que resalta el bloque. */
    padding: 25px;                /* Espacio interno amplio para legibilidad. */
    border-radius: 0 var(--radius-md) var(--radius-md) 0; /* Redondea solo las esquinas derechas. */
    margin-top: 25px;             /* Separación con el texto anterior. */
    margin-bottom: 20px;          /* Separación con el texto siguiente. */
}

/* AJUSTE .TUTORIAL-PASOS (MODO OSCURO): Mejora de contraste.
*/
body.dark-mode .tutorial-pasos { background: rgba(99, 102, 241, 0.1); } /* Fondo ligeramente más visible. */

/* CLASE .TUTORIAL-PASOS.WARNING: Variante para avisos o recuadros secundarios (ej. dentro de acordeones).
   Relación JS: Se aplica como <div class="tutorial-pasos warning">.
*/
.tutorial-pasos.warning {
    background: rgba(207, 211, 208, 0.1); /* Fondo gris neutro muy suave. */
    border-left: 0px solid #e4e1dd;       /* ELIMINA O REDUCE LA BARRA para diferenciarlo del paso principal. */
}

/* =====================================================
   7. COMPONENTES TÉCNICOS Y CÓDIGO
   ===================================================== */

/* BLOQUES DE CÓDIGO (code, .caja-negra): Estilo visual de los comandos técnicos.
   Relación HTML: Afecta a las etiquetas <code> y elementos con clase .caja-negra.
   Modifica: Crea el aspecto de "terminal" oscura para que los comandos resalten.
*/
code, .caja-negra {
    background: #1e293b !important;  /* Fondo azul oscuro profundo (estilo terminal). */
    color: #e2e8f0 !important;       /* Texto gris muy claro para alta legibilidad. */
    padding: 15px;                   /* Espacio interno para que el texto no toque los bordes. */
    border-radius: 12px;             /* Esquinas redondeadas suaves (12px). */
    display: block;                  /* Hace que el bloque ocupe todo el ancho disponible. */
    margin: 15px 0;                  /* Separación vertical con otros elementos. */
    font-family: var(--font-code);   /* Aplica la fuente monoespaciada Fira Code. */
    font-size: 0.95rem;              /* Tamaño de letra técnico. */
    overflow-x: auto;                /* Si el comando es muy largo, permite deslizar de forma horizontal. */
    border: 1px solid rgba(255,255,255,0.1); /* Borde muy fino para dar definición. */
    box-shadow: inset 0 2px 4px rgba(0,0,0,0.3); /* Sombra interna para dar profundidad al bloque. */
}

/* ETIQUETA KBD: Estilo para representar teclas físicas (ej: Win + R).
   Relación HTML: Afecta a cualquier etiqueta <kbd> en tus tutoriales.
   Modifica: Crea un efecto 3D que simula una tecla física de teclado.
*/
kbd {
    background-color: #eee;          /* Color gris claro de base. */
    border-radius: 3px;              /* Esquinas ligeramente redondeadas. */
    border: 1px solid #b4b4b4;       /* Borde que define la forma de la tecla. */
    box-shadow: 0 1px 1px rgba(0,0,0,0.2); /* Pequeña sombra inferior para el efecto 3D. */
    color: #333;                     /* Texto oscuro para contraste. */
    display: inline-block;           /* Permite que se comporte como texto pero mantenga su forma. */
    font-size: 0.85em;               /* Tamaño ligeramente menor al texto normal. */
    font-weight: 700;                /* Texto en negrita. */
    line-height: 1;                  /* Altura de línea ajustada al tamaño de la tecla. */
    padding: 2px 4px;                /* Espacio interno para el texto de la tecla. */
    white-space: nowrap;             /* Evita que el nombre de una tecla se parta en dos líneas. */
}

/* CONTENEDOR DE COMANDO: Caja que envuelve el código y el botón de copiado.
   Relación HTML/JS: Afecta a <div class=\"contenedor-comando\">.
   Modifica: Crea el espacio necesario para que el botón de copiado se ubique correctamente.
*/
.contenedor-comando {
    position: relative;              /* Ajuste clave: sirve de ancla para posicionar el botón interno. */
    display: block;                  /* Ocupa el ancho total del contenedor padre. */
    width: 100%;                     /* Asegura que cubra todo el espacio horizontal. */
}

/* BOTÓN DE COPIADO INTERNO: El botón pequeño dentro de los bloques de código.
   Relación HTML: Afecta a <button class=\"btn-copiar-interno\">.
   Relación JS: JavaScript usa este botón para ejecutar la función copiarComando().
   Modifica: La ubicación exacta del botón sobre el bloque de código.
*/
.btn-copiar-interno {
    position: absolute;              /* Se posiciona de forma libre respecto al contenedor-comando. */
    bottom: 10px;                    /* Se ancla a 10px de la parte inferior. */
    right: 10px;                     /* Se ancla a 10px de la parte derecha. */
    padding: 6px 12px;               /* Tamaño interno del botón. */
    background: rgba(255, 255, 255, 0.1); /* Fondo blanco casi transparente. */
    color: #cbd5e0;                  /* Color de icono y texto gris claro. */
    border: 1px solid rgba(255, 255, 255, 0.2); /* Borde fino semitransparente. */
    border-radius: 6px;              /* Bordes redondeados sutiles. */
    font-size: 0.75rem;              /* Tamaño de letra pequeño para no estorbar el código. */
    cursor: pointer;                 /* Puntero de mano. */
    display: flex;                   /* Alineación horizontal de icono y texto. */
    align-items: center;             /* Centrado vertical interno. */
    gap: 8px;                        /* Espacio entre el icono de papel y la palabra "Copiar". */
    transition: all 0.2s ease;       /* Suaviza el cambio de color al interactuar. */
    backdrop-filter: blur(4px);      /* Efecto de cristal sutil en el botón. */
    z-index: 10;                     /* Se asegura de estar encima del texto del comando. */
}

/* HOVER COPIAR INTERNO:
*/
.btn-copiar-interno:hover {
    background: var(--primary);      /* Cambia al color índigo principal. */
    color: white;                    /* Texto e icono blancos para contraste. */
    border-color: transparent;       /* Elimina el borde al resaltar. */
}

/* Icono dentro del botón copiar. */
.btn-copiar-interno i { font-size: 0.8rem; }

/* ACORDEONES / DESPLEGABLES: Contenedores de secciones ocultables.
   Relación HTML: Afecta a la etiqueta <details class=\"acordeon-tutorial\">.
   Modifica: El borde y margen de los bloques que se pueden expandir.
*/
.acordeon-tutorial {
    margin: 15px 0;                  /* Espacio vertical entre diferentes acordeones. */
    border: 1px solid var(--primary); /* Borde índigo que encierra todo el contenido oculto. */
    border-radius: 8px;              /* Esquinas redondeadas del contenedor. */
    overflow: hidden;                /* Asegura que el contenido interno no se salga de los bordes. */
}

/* ENCABEZADO DEL ACORDEÓN: La barra clickeable que expande el contenido.
   Relación HTML: Afecta a la etiqueta <summary class=\"acordeon-header\">.
*/
.acordeon-header {
    padding: 10px;                   /* Área de clic cómoda. */
    background-color: var(--primary); /* Fondo índigo sólido. */
    color: white;                    /* Texto blanco. */
    cursor: pointer;                 /* Puntero de mano. */
    font-weight: bold;               /* Texto resaltado. */
    list-style: none;                /* Quita el icono de triángulo estándar del navegador. */
    display: flex;                   /* Permite alinear icono (fontawesome) y título. */
    align-items: center;             /* Centrado vertical. */
    gap: 10px;                       /* Espacio entre icono y texto. */
}

/* HOVER ENCABEZADO: Efecto de iluminación al pasar el mouse.
*/
.acordeon-header:hover { filter: brightness(1.1); }

/* CÓDIGO TIPO CONSOLA: Especializado para scripts largos (.BAT) o salidas de terminal.
   Relación HTML: Afecta a la clase .codigo-consola (usualmente dentro de un <pre>).
   Modifica: Crea un entorno de lectura de código de ancho completo con scroll.
*/
.codigo-consola {
    width: 100%;                     /* Ocupa el 100% del ancho del modal. */
    overflow-x: auto;                /* Habilita el scroll horizontal para líneas de código muy largas. */
    white-space: pre;                /* Respeta los espacios y saltos de línea del script original. */
    text-align: left;                /* Alineación forzada a la izquierda. */
    padding: 15px;                   /* Espacio interno. */
    background-color: #2d2d2d;       /* Fondo gris oscuro tipo editor de código. */
    color: #ccc;                     /* Texto gris claro. */
    margin: 0;                       /* Elimina márgenes para que encaje perfecto en el acordeón. */
    font-family: 'Consolas', monospace; /* Fuente específica de terminal. */
    font-size: 0.9rem;               /* Tamaño de letra para bloques extensos. */
    display: block;                  /* Se comporta como un bloque sólido. */
}

/* Estilo para que el enlace sea visible y no se pierda en el fondo oscuro */
code a.link-comando {
    color: #ffffff !important;   /* Letras en blanco puro para máximo contraste */
    text-decoration: none;       /* Mantiene el estilo de terminal sin subrayado */
    font-weight: 500;            /* Le da un poco más de grosor para que se lea mejor */
    transition: all 0.3s ease;   /* Suaviza el cambio de color al interactuar */
}

/* Efecto al pasar el mouse para que el usuario sepa que es un link */
code a.link-comando:hover {
    color: var(--secondary) !important; /* Cambia a azul cielo brillante (#0ea5e9) */
    text-decoration: underline;         /* Aparece el subrayado solo al tocarlo */
}

/* =====================================================
   8. BOTONES DE ENLACES POR PLATAFORMA
   ===================================================== */

/* CLASE MAESTRA .BTN-PRO-LINK: Define la estructura base de todos los botones de enlace.
   Relación JS: La función mostrarNotas() genera estos botones dentro de .links-seccion.
   Modifica: El tamaño, espaciado y comportamiento general de los botones de link.
*/
.btn-pro-link {
    display: inline-flex;            /* Permite alinear icono y texto en una fila ajustable. */
    align-items: center;             /* Centra verticalmente el icono con el texto. */
    gap: 8px;                        /* Espacio de separación entre el icono y el texto del botón. */
    padding: 8px 14px;               /* Espacio interno para que el botón sea cómodo de presionar. */
    border-radius: 8px;              /* Bordes redondeados consistentes con el diseño del sitio. */
    font-size: 0.8rem;               /* Tamaño de letra pequeño para diferenciarlo de los botones principales. */
    text-decoration: none;           /* Elimina el subrayado azul automático de los enlaces <a>. */
    font-weight: 600;                /* Texto en seminegrita para mejorar la visibilidad. */
    transition: all 0.3s ease;       /* Suaviza las animaciones de color y movimiento al interactuar. */
    border: 1px solid;               /* Reserva el espacio para un borde que cambiará de color por plataforma. */
    margin-bottom: 5px;              /* Pequeño ajuste para espaciado inferior entre botones apilados. */
}

/* EFECTO HOVER GENERAL: Respuesta visual común para todos los botones de link.
*/
.btn-pro-link:hover {
    color: white !important;         /* Fuerza que el texto sea blanco al resaltar el botón. */
    transform: translateY(-2px);     /* Eleva el botón ligeramente para indicar que es clickeable. */
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2); /* Añade una sombra de profundidad al resaltar. */
}

/* VARIANTES POR COLOR DE PLATAFORMA:
   Relación JS: Se aplican según el valor de 'link.plataforma' en el array misNotas.
*/

/* VARIANTE YOUTUBE: Estilo para enlaces a videos.
   Relación JS: Se activa con plataforma: "youtube".
*/
.btn-pro-link.youtube {
    background: rgba(231, 76, 60, 0.1); /* Fondo rojo muy tenue (10% opacidad). */
    color: #e74c3c;                  /* Texto e icono en rojo YouTube. */
    border-color: #e74c3c;           /* Borde del mismo color rojo. */
}
.btn-pro-link.youtube:hover { background: #e74c3c; } /* Fondo rojo sólido al pasar el mouse. */

/* VARIANTE FACEBOOK: Estilo para enlaces a redes sociales.
   Relación JS: Se activa con plataforma: "facebook".
*/
.btn-pro-link.facebook {
    background: rgba(24, 119, 242, 0.1); /* Fondo azul Facebook tenue. */
    color: #1877f2;                  /* Texto e icono en azul oficial. */
    border-color: #1877f2;           /* Borde azul. */
}
.btn-pro-link.facebook:hover { background: #1877f2; } /* Fondo azul sólido al pasar el mouse. */

/* VARIANTE TIKTOK: Estilo para enlaces a clips cortos.
   Relación JS: Se activa con plataforma: "tiktok".
*/
.btn-pro-link.tiktok {
    background: rgba(0, 0, 0, 0.05);  /* Fondo negro casi imperceptible. */
    color: #000000;                  /* Texto e icono negros. */
    border-color: #000000;           /* Borde negro. */
}
.btn-pro-link.tiktok:hover { background: #000000; } /* Fondo negro sólido al pasar el mouse. */

/* VARIANTE GOOGLE/DRIVE: Estilo para descargas o archivos en la nube.
   Relación JS: Se activa con plataforma: "google".
*/
.btn-pro-link.google {
    background: rgba(99, 102, 241, 0.1); /* Fondo índigo tenue. */
    color: var(--primary);           /* Usa el color índigo principal de tu sitio. */
    border-color: var(--primary);    /* Borde índigo. */
}
.btn-pro-link.google:hover { background: var(--primary); } /* Fondo índigo sólido al pasar el mouse. */

/* VARIANTE GENÉRICA: Estilo para cualquier otro enlace web (documentación, blogs).
   Relación JS: Se aplica automáticamente si no se especifica una plataforma.
*/
.btn-pro-link.generic {
    background: rgba(46, 146, 204, 0.1); /* Fondo azul cian tenue. */
    color: #2e92cc;                  /* Texto e icono en azul claro. */
    border-color: #2ea7cc;           /* Borde azul claro. */
}
.btn-pro-link.generic:hover { background: #2eb4cc; } /* Fondo azul claro sólido al pasar el mouse. */

/* =====================================================
   9. UTILIDADES, ANIMACIONES Y PDF
   ===================================================== */

/* CLASE .HIDDEN: Control maestro de visibilidad.
   Relación JS: Las funciones abrirTutorial() y cerrarTutorial() añaden o quitan esta clase al modal.
   Modifica: Elimina completamente el elemento de la vista y del espacio de la página.
*/
.hidden { 
    display: none !important; /* Fuerza la ocultación absoluta ignorando cualquier otra regla. */
}

/* --- ANIMACIONES DE ENTRADA --- */

/* CLASE .ANIMATE-POP-IN: Efecto de aparición para el modal.
   Relación HTML: Se aplica a <div class="modal-contenido"> en index.html.
   Modifica: Hace que la ventana de tutorial surja con un ligero rebote y transparencia.
*/
.animate-pop-in {
    /* Ejecuta la animación popIn durante 0.3 segundos con una curva de velocidad suave. */
    animation: popIn 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
}

/* KEYFRAMES popIn: Define los estados del efecto de aparición. */
@keyframes popIn {
    0% { transform: scale(0.9); opacity: 0; } /* Inicia un 10% más pequeño e invisible. */
    100% { transform: scale(1); opacity: 1; }  /* Finaliza en su tamaño real y totalmente visible. */
}

/* KEYFRAMES fadeInUp: Define el efecto de "subida" para las tarjetas. */
@keyframes fadeInUp {
    from { 
        opacity: 0;               /* Inicia invisible. */
        transform: translateY(20px); /* Inicia 20px por debajo de su posición final. */
    }
    to { 
        opacity: 1;               /* Finaliza visible. */
        transform: translateY(0);    /* Llega a su posición original. */
    }
}

/* APLICACIÓN DE ANIMACIÓN A TARJETAS:
   Relación JS: Se activa cada vez que la función mostrarNotas() inyecta nuevas tarjetas.
*/
.tarjeta {
    /* Ejecuta la animación fadeInUp durante 0.4 segundos. */
    animation: fadeInUp 0.4s ease forwards; 
}

/* --- REGLAS DE IMPRESIÓN (CONFIGURACIÓN PARA PDF) --- 
   Relación JS: Se activa cuando el usuario pulsa el botón '.btn-pdf' (window.print()).
   Modifica: Limpia la página de elementos innecesarios para que el documento PDF sea profesional.
*/
@media print {
    /* 1. OCULTACIÓN DE ELEMENTOS WEB: Quita menús, botones y herramientas que no sirven en papel. */
    header, 
    main, 
    .global-tools, 
    .cerrar-modal, 
    .btn-pdf, 
    .panel-controles {
        display: none !important; /* Elimina cabeceras, buscadores y botones de acción del PDF. */
    }

    /* Ajuste de estructura base para impresión. */
    html, body {
        height: auto !important;     /* Permite que el cuerpo crezca según el largo del texto. */
        overflow: visible !important; /* Asegura que se vea todo el contenido en varias páginas. */
        background: white !important; /* Fuerza fondo blanco para ahorrar tinta. */
        color: black !important;      /* Fuerza texto negro para máxima legibilidad. */
    }

    /* 2. AJUSTE DEL MODAL PARA IMPRESIÓN:
       Modifica: Convierte la ventana flotante en un documento plano normal.
    */
    .modal {
        position: relative !important; /* Quita el estado fijo para que fluya con el papel. */
        display: block !important;    /* Cambia de flex a bloque estándar. */
        background: white !important; /* Fondo blanco. */
        padding: 0 !important;        /* Elimina márgenes externos de pantalla. */
        overflow: visible !important; /* Asegura visibilidad total. */
        height: auto !important; 
        width: 100% !important;
    }

    /* 3. AJUSTE DEL CONTENIDO DEL TUTORIAL:
       Modifica: Expande el texto a todo el ancho de la hoja A4.
    */
    .modal-contenido {
        box-shadow: none !important;  /* Quita sombras (no tienen sentido en papel). */
        border: none !important;      /* Quita bordes decorativos. */
        width: 100% !important;       /* Usa todo el ancho de la página. */
        max-width: none !important;   /* Elimina el límite de 800px de la web. */
        margin: 0 !important;         /* Centrado manual desactivado. */
        padding: 20px !important;     /* Margen interno para el texto. */
        height: auto !important;      /* Altura automática según el texto. */
        max-height: none !important;  /* Elimina el límite de 90vh de la web. */
        overflow: visible !important; /* Garantiza que se impriman todas las hojas necesarias. */
    }

    /* 4. ESTILOS DE TEXTO TÉCNICO EN PAPEL:
       Modifica: Los bloques de código se ven como recuadros grises claros en el PDF.
    */
    code, .caja-negra {
        background: #f4f4f4 !important; /* Fondo gris muy tenue. */
        color: black !important;        /* Letra negra. */
        border: 1px solid #ccc !important; /* Borde gris definido. */
        page-break-inside: avoid;       /* EVITA QUE UN COMANDO SE CORTE entre dos páginas. */
    }

    /* Ajuste visual para los pasos destacados en la guía impresa. */
    .tutorial-pasos code, .caja-negra {
        background: white !important;   /* Fondo blanco puro. */
        border-left: 5px solid #3498db !important; /* Mantiene la barra azul de énfasis. */
        page-break-inside: avoid;       /* Mantiene el bloque unido. */
    }

    /* Configuración de los márgenes físicos de la hoja. */
    @page { 
        margin: 15mm; /* Deja 1.5 cm de margen en todos los lados del papel. */
    }
}


/* EL CONTENEDOR: Cambiamos a 'column' para apilarlos */
#contenedor-subir {
    position: fixed;
    bottom: 30px;
    right: 30px;
    display: flex;
    flex-direction: column-reverse;    /* Alineación vertical */
    align-items: center;       /* Centra ambos elementos horizontalmente */
    gap: 10px;                 /* Espacio entre el contador y el botón */
    z-index: 2500;             /* Asegura que esté sobre el Matrix y tarjetas */
    pointer-events: none;      /* Permite clics al fondo si está oculto */
}

/* EL BOTÓN: Sin cambios estructurales, solo quitamos el 'order' */
#btn-subir {
    display: none;             /* Controlado por JS */
    pointer-events: auto;      /* Habilita clics para el botón */
    background: var(--primary);
    color: white;
    border: none;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    cursor: pointer;
    box-shadow: var(--shadow-lg);
    transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

/* EL CONTADOR: Se posicionará arriba por el orden en el HTML */
#contador-tarjetas {
    display: none;             /* Controlado por JS */
    background: rgba(15, 23, 42, 0.95); /* Fondo sólido para legibilidad */
    color: white;
    padding: 6px 14px;
    border-radius: 30px;
    font-size: 0.8rem;
    font-weight: 700;
    box-shadow: var(--shadow-md);
    white-space: nowrap;       /* Evita que el texto se rompa en dos líneas */
    border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Efecto Hover para el botón */
#btn-subir:hover {
    transform: scale(1.1) translateY(-3px);
    background: var(--primary-dark);
}

/* =====================================================
   10. AJUSTES PARA DISPOSITIVOS MÓVILES
   ===================================================== */

@media (max-width: 768px) {
    /* Ajustamos el tamaño del encabezado en tablets y móviles */
    header {
        padding: 2.5rem 1rem; /* Reducimos el espacio excesivo */
    }

    header h1 {
        font-size: 2rem;      /* Reducimos el título para que no ocupe toda la pantalla */
    }

    /* Reducimos el tamaño de la rejilla para pantallas muy pequeñas */
    .grid-container, #lista-recursos {
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); 
        gap: 15px;            /* Espacio más compacto entre tarjetas */
        padding: 0 10px;
    }

    /* Ajuste del botón flotante para que no estorbe tanto en pantallas chicas */
    #contenedor-subir {
        bottom: 20px;
        right: 20px;
    }
}

@media (max-width: 480px) {
    /* En celulares muy pequeños, bajamos aún más el título */
    header h1 {
        font-size: 1.6rem;
    }
    
    .search-container input {
        font-size: 0.9rem;    /* Texto de búsqueda un poco más pequeño */
        padding: 12px 15px 12px 45px;
    }
}